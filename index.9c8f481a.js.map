{"mappings":"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","sources":["src/js/searchFilms.js","src/js/passwordWachedFunction.js","src/js/functionsForFilms.js","src/js/modalRegistrationFunction.js","src/index.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport ApiService from './fetchProdactsAPI';\nimport { renderFilmCard } from './renderFunction';\nimport { refs } from './refs';\nimport { pagination } from './pagination';\nimport { cleanPagination } from './pagination';\nconst apiService = new ApiService();\n\nif (!refs.inputEl) {\n  return;\n} else {\n  refs.inputEl.addEventListener('click', onSearchFormReset);\n  refs.searchForm.addEventListener('submit', onSearchFormSubmit);\n}\n\nfunction onSearchFormReset() {\n  if (apiService.query !== '') {\n    refs.searchForm.reset();\n    return;\n  }\n}\nexport async function onSearchFormSubmit(e) {\n  e.preventDefault();\n  apiService.page = 1;\n  apiService.query = refs.inputEl ? refs.inputEl.value.trim() : '';\n  localStorage.setItem('query-value', apiService.query);\n  if (apiService.query === '') {\n    if (localStorage.getItem('language') === 'en') {\n        Notify.failure(\n      'Sorry, You need to write something in search query. Please try again.'\n    );\n        console.log('en');\n      } else if (localStorage.getItem('language') === 'ua') {\n       Notify.failure(\n      'Вибачте, вам потрібно написати щось в пошуковому полі. Спробуйте знову.'\n    );\n      }\n\n    // попередження яке є на макеті хочеш розкоментує а хочеш не\n    refs.warningContainer.classList.remove('is-hidden');\n   \n    return;\n  }\n  const results = await apiService.getSearchFilms();\n  apiService.totalResults = results.total_results;\n  try {\n    renderFilmCard(results);\n    // !замість фунціі яка закоментована внизу просто ресетимо інпут\n    refs.inputEl.value = '';\n    // resetQuery();\n\n    //додаю пагінацію\n    pagination.reset(results.total_results);\n    if (apiService.totalResults === 0) {\n      cleanPagination();\n      if (localStorage.getItem('language') === 'en') {\n        Notify.failure(\n          'Sorry, there are no films matching your search query. Please try again.'\n        );\n        console.log('en');\n      } else if (localStorage.getItem('language') === 'ua') {\n        Notify.info(\n          `Вибачте, не знайдено жодного філльму по вашому запиту. Будь ласка, спробуйте ще`\n        );\n      }\n\n      return;\n    }\n    if (apiService.totalResults >= 1) {\n      if (localStorage.getItem('language') === 'en') {\n        Notify.success(`Hooray! We found ${apiService.totalResults} films.`);\n      } else if (localStorage.getItem('language') === 'ua') {\n        Notify.success(\n          `Ура! Ми знайшли по вашому запиту ${apiService.totalResults} результатів.`\n        );\n      }\n    }\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n","import { refs } from './refs';\n\nexport function showOrHidePasswordonClick() {\n  refs.buttonShowPassword.addEventListener('click', showPassword);\n\n  function showPassword() {\n    if (refs.inputPassword.getAttribute('type') === 'password') {\n      refs.inputPassword.removeAttribute('type');\n      refs.inputPassword.setAttribute('type', 'text');\n      refs.iconForShowPassword.classList.add('visually-hidden');\n      refs.iconForUnShowPassword.classList.remove('visually-hidden');\n    } else {\n      refs.inputPassword.removeAttribute('type');\n      refs.inputPassword.setAttribute('type', 'password');\n      refs.iconForShowPassword.classList.remove('visually-hidden');\n      refs.iconForUnShowPassword.classList.add('visually-hidden');\n    }\n  }\n}\n","import { refs } from './refs';\nimport { onSearchFormSubmit } from './searchFilms';\nimport ApiService from './fetchProdactsAPI';\nimport { renderFilmCard } from './renderFunction';\nimport { pagination } from './pagination';\nconst apiService = new ApiService();\n// екземпляр класу в який пишемо виклики фільмів по потребі\nexport function ShowFilms() {\n  topFilms();\n  if (apiService.query !== '') {\n    refs.searchForm.getNewFilms('submit', onSearchFormSubmit);\n    return;\n  }\n}\n// фільми топ, фільми за пошуком\nasync function topFilms() {\n  const results = await apiService.getPopularFilms();\n  try {\n    renderFilmCard(results);\n    //додаю пагінацію\n    pagination.reset(results.total_results);\n  } catch (error) {\n    console.log(error);\n  }\n}\n","\nimport { Modal } from './modal';\n\nexport function registrationModalOpen() {\n  const logInModalWindow = new Modal(\n    '.navigation__open--btn',\n    '.modal__log-in--close-btn',\n    '.overlay__log-in',\n    '.modal__log-in'\n  );\n\n  // Щоб модалка відкривалась, вішаємо слухача кліка на кнопку відкриття модалки\n\n  logInModalWindow.openBtn.addEventListener(\n    'click',\n    logInModalWindow.openModal.bind(logInModalWindow)\n  );\n}\n","import { showOrHidePasswordonClick } from './js/passwordWachedFunction';\nimport { sliderRevenueFilms } from './js/slideRevenueFilms';\nimport { scrolToTop } from './js/scrolToTop';\nimport { ShowFilms } from './js/functionsForFilms';\nimport { onTeamModal } from './js/team_modal';\nimport { registrationModalOpen } from './js/modalRegistrationFunction';\nimport { filmCardModalWindow } from './js/modal-film';\nimport 'lazysizes';\nimport 'lazysizes/plugins/parent-fit/ls.parent-fit';\nimport { homeHeaderLinkBntLogic } from './js/headerBtnLinkLogic';\nimport { authHandler } from './js/auth';\nimport { onFirstLoadTheme } from './js/changeTheme';\n\nimport {} from './js/language';\nimport { authHandler } from './js/auth';\nimport './js/menuFilters'; /* тимчасово поки імпортую все*/\n\nregistrationModalOpen();\n// логіка кнопок і посилань навігації хедера\nhomeHeaderLinkBntLogic();\n//завантаження теми\nimport { getChengeMainThemeByClick } from './js/changeTheme';\nonFirstLoadTheme();\ngetChengeMainThemeByClick();\n//авторизація\nauthHandler();\n\n// ---------------------------main\n// слайлдер з фільмами, що зібрали найбільшу касу\nsliderRevenueFilms();\n// фільми топ, фільми за пошуком\nShowFilms();\n// модалка карточки фільму\nfilmCardModalWindow();\n// кнопка повернення до гори\nscrolToTop();\n// форма з паролями\nshowOrHidePasswordonClick();\n\n//----------------------------footer\nonTeamModal();\n//робота зі сховищем фаєрбейз\n// import { firebaseRealtimeDatabase } from './js/firebaseDatastorage';\n// firebaseRealtimeDatabase();\n"],"names":["$bpxeT","parcelRequire","apiService","$8fdg5","default","onSearchFormSubmit","e","_onSearchFormSubmit","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","results","preventDefault","page","query","$4Nugj","refs","inputEl","value","trim","localStorage","setItem","getItem","$h6c0i","Notify","failure","console","log","warningContainer","classList","remove","getSearchFilms","_ctx","sent","totalResults","total_results","$2ibrE","renderFilmCard","$jcFG7","pagination","reset","cleanPagination","info","success","concat","t0","addEventListener","searchForm","$fb4652ac32cef8c0$var$apiService","$fb4652ac32cef8c0$var$_topFilms","getPopularFilms","error","$5xtVg","logInModalWindow","Modal","openBtn","openModal","bind","$jQRv7","homeHeaderLinkBntLogic","$3jSZ7","onFirstLoadTheme","getChengeMainThemeByClick","$euqRf","authHandler","$9I33b","sliderRevenueFilms","$fb4652ac32cef8c0$var$topFilms","getNewFilms","$5bDA3","$73ES2","filmCardModalWindow","$8BN3R","scrolToTop","buttonShowPassword","inputPassword","getAttribute","removeAttribute","setAttribute","iconForShowPassword","add","iconForUnShowPassword","$puS1k","onTeamModal"],"version":3,"file":"index.9c8f481a.js.map"}