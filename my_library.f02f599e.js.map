{"mappings":"ylBAAAA,EAAAC,EAAA,S,8EAOMC,EAAY,IAAI,EAAAC,EAAAC,WAChBC,EAAa,IAAI,EAAAC,EAAAC,SAEnBC,EAAkBN,EAAUO,iBAC5BC,EAAgBR,EAAUS,eAa9B,IAAIC,EAAaP,EAAWQ,KACtBC,EAAoB,G,SAGXC,I,OAAAC,EAAiBC,MAAAC,KAAAC,U,UAAjBH,I,OAAAA,EAAfI,EAAApB,EAAA,CAAAoB,EAAAC,GAAAC,MAAA,SAAAC,I,IAOUC,EACEC,EAOFC,EACEC,E,qEAdqB,IAA3BnB,EAAgBoB,OAAY,C,mBAC9BC,EAAAC,KAAKC,aAAaC,UAAUC,IAAI,aACfC,KAAKC,KAAK3B,EAAgBoB,OAASd,KAEjDN,EAAgBoB,OAASd,GAAiB,C,uBACvCU,EAAchB,E,SACKH,EAAW+B,wBAAwBZ,G,OAApDC,EAAQY,EAAAC,KAChB,KACE,EAAAC,EAAAC,uBAAsBf,E,CACtB,MAAOgB,GACPC,QAAQC,IAAIF,E,gCAGRf,EAAclB,EAAgBoC,MAAO9B,EAAkBF,EAAW,EAAKE,EAAkBF,EAAW,EAAEE,G,UACnFT,EAAW+B,wBAAwBV,G,QAApDC,EAAQU,EAAAC,KAChB,KACE,EAAAC,EAAAC,uBAAsBb,E,CACtB,MAAOkB,GACPH,QAAQC,IAAIE,E,iCAKdC,I,6CAzB4B7B,MAAAC,KAAAC,U,UA6BjB4B,I,OAAAC,EAAe/B,MAAAC,KAAAC,U,UAAf6B,I,OAAAA,EAAf5B,EAAApB,EAAA,CAAAoB,EAAAC,GAAAC,MAAA,SAAAC,I,IAMUC,EACEC,EAOFwB,EACEC,E,qEAdmB,IAAzBxC,EAAckB,OAAY,C,mBAC5BC,EAAAC,KAAKC,aAAaC,UAAUC,IAAI,aACfC,KAAKC,KAAKzB,EAAckB,OAASd,KAE/CJ,EAAckB,OAASd,GAAiB,C,uBACrCU,EAAcd,E,SACKL,EAAW+B,wBAAwBZ,G,OAApDC,EAAQY,EAAAC,KAChB,KACE,EAAAC,EAAAC,uBAAsBf,E,CACtB,MAAOgB,GACPC,QAAQC,IAAIF,E,gCAGRQ,EAAcvC,EAAckC,MAAO9B,EAAkBF,EAAW,EAAKE,EAAkBF,EAAW,EAAEE,G,UACjFT,EAAW+B,wBAAwBa,G,QAApDC,EAAQb,EAAAC,KAChB,KACE,EAAAC,EAAAC,uBAAsBU,E,CACtB,MAAOC,GACPT,QAAQC,IAAIQ,E,iCAKdL,I,6CAxB0B7B,MAAAC,KAAAC,U,CA4B9B,SAAS2B,IACPM,EAAAC,OAAOC,KAAM,2BACbzB,EAAAC,KAAKC,aAAaC,UAAUuB,OAAO,aACnC1B,EAAAC,KAAK0B,aAAaC,UAAY,E,sDC1EP,EAAzBC,EAAAC,8BAEgB,EAAhBC,EAAAC,2BAE2BC,aAAdC,KAAO,OAGpB,EAAAC,EAAAC,6BAIuC,EAAvCC,EAAAC,sBDXiC,IAA3B3D,EAAgBoB,OAClBb,IAEAqC,EAAAC,OAAOC,KAAM,2BAGfzB,EAAAC,KAAKsC,WAAWC,iBAAiB,QAAStD,GAC1Cc,EAAAC,KAAKwC,SAASD,iBAAiB,QAAStB,ICQ1C,EAAAwB,EAAAC,eAIA,EAAAC,EAAAC,c","sources":["src/js/watched_queue.js","src/library.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport { refs } from './refs';\nimport ApiService from './fetchProdactsAPI';\nimport { MyLibrary } from './localStorage';\nimport { renderFilmCardLibrary } from './renderFunction';\n\n// екземпляп класу який працює з localStorage\nconst myLibrary = new MyLibrary();\nconst apiService = new ApiService();\n\nlet arrWatchedFilms = myLibrary.getFromWatched();\nlet arrQueueFilms = myLibrary.getFromQueue();\n\nexport function btnLibraryWatchedOrQueue() {\n  if (arrWatchedFilms.length !== 0) {\n    onWatchedBtnClick();\n  } else {\n    Notify.info(`Your film list is empty`);\n  }\n\n  refs.btnWatched.addEventListener('click', onWatchedBtnClick);\n  refs.btnQueue.addEventListener('click', onQueueBtnClick);\n}\n\nlet pageNumber = apiService.page;\nconst amountFilmsOnPage = 12;\n\n// фільми Watched\nasync function onWatchedBtnClick() {\n\n  if (arrWatchedFilms.length !== 0) {\n    refs.libraryEmpty.classList.add('is-hidden');\n    let totalPages = Math.ceil(arrWatchedFilms.length / amountFilmsOnPage);\n\n    if(arrWatchedFilms.length < amountFilmsOnPage) {\n      let filmsOnPage = arrWatchedFilms;\n      const filmInfo = await apiService.getFilmFromLocalStorage(filmsOnPage);\n    try {\n      renderFilmCardLibrary(filmInfo);\n    } catch (error) {\n      console.log(error);\n    }\n    } else {\n      let filmsOnPage = arrWatchedFilms.slice((amountFilmsOnPage*pageNumber-2), (amountFilmsOnPage*pageNumber-2+amountFilmsOnPage));\n      const filmInfo = await apiService.getFilmFromLocalStorage(filmsOnPage);\n    try {\n      renderFilmCardLibrary(filmInfo);\n    } catch (error) {\n      console.log(error);\n    }\n    };\n    \n  } else {\n    cleanLibrary();\n  }\n}\n//  фільми Queue\nasync function onQueueBtnClick() {\n  if (arrQueueFilms.length !== 0) {\n    refs.libraryEmpty.classList.add('is-hidden');\n    let totalPages = Math.ceil(arrQueueFilms.length / amountFilmsOnPage);\n    \n    if(arrQueueFilms.length < amountFilmsOnPage) {\n      let filmsOnPage = arrQueueFilms;\n      const filmInfo = await apiService.getFilmFromLocalStorage(filmsOnPage);\n    try {\n      renderFilmCardLibrary(filmInfo);\n    } catch (error) {\n      console.log(error);\n    }\n    } else {\n      let filmsOnPage = arrQueueFilms.slice((amountFilmsOnPage*pageNumber-2), (amountFilmsOnPage*pageNumber-2+amountFilmsOnPage));\n      const filmInfo = await apiService.getFilmFromLocalStorage(filmsOnPage);\n    try {\n      renderFilmCardLibrary(filmInfo);\n    } catch (error) {\n      console.log(error);\n    }\n    };\n    \n  } else {\n    cleanLibrary();\n  }\n}\n\nfunction cleanLibrary() {\n  Notify.info(`Your film list is empty`);\n  refs.libraryEmpty.classList.remove('is-hidden');\n  refs.movieLibrary.innerHTML = '';\n}\n","import {} from './scss/index.scss';\nimport { sliderRevenueFilms } from './js/slideRevenueFilms';\nimport { scrolToTop } from './js/scrolToTop';\nimport { onTeamModal } from './js/team_modal';\n// логіка кнопок і посилань навігації хедера\nimport { libraryHeaderLinkBntLogic } from './js/headerBtnLinkLogic';\nimport { btnLibraryWatchedOrQueue } from './js/watched_queue';\nimport 'lazysizes';\nimport 'lazysizes/plugins/parent-fit/ls.parent-fit';\nimport { onFirstLoadThemeLibrary } from './js/changeTheme';\n// import {} from './js/language';\n\n// -------------------------------------------header\n// рендириця картка фільму з id що в  localStorage\nlibraryHeaderLinkBntLogic();\n//завантаження теми\nonFirstLoadThemeLibrary();\n//авторизація (тимчасове рішення)\nlocalStorage.auth = 'yes';\n//робота зі сховищем фаєрбейз\nimport { firebaseRealtimeDatabase } from './js/firebaseDatastorage';\nfirebaseRealtimeDatabase();\n\n//--------------------------------------------body\n// слайлдер з фільмами, що зібрали найбільшу касу\nsliderRevenueFilms();\n// по кліку на кнопки рендириця картка фільму з id що в  localStorage\nbtnLibraryWatchedOrQueue();\n// кнопка повернення догори\nscrolToTop();\n\n//------------------------------------------footer\n// footer\nonTeamModal();\n\n"],"names":["$bpxeT","parcelRequire","$f8a7324243d2254a$var$myLibrary","$UL92Z","MyLibrary","$f8a7324243d2254a$var$apiService","$8fdg5","default","$f8a7324243d2254a$var$arrWatchedFilms","getFromWatched","$f8a7324243d2254a$var$arrQueueFilms","getFromQueue","$f8a7324243d2254a$var$pageNumber","page","$f8a7324243d2254a$var$amountFilmsOnPage","$f8a7324243d2254a$var$onWatchedBtnClick","$f8a7324243d2254a$var$_onWatchedBtnClick","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","filmsOnPage","filmInfo","filmsOnPage1","filmInfo1","length","$4Nugj","refs","libraryEmpty","classList","add","Math","ceil","getFilmFromLocalStorage","_ctx","sent","$2ibrE","renderFilmCardLibrary","error","console","log","slice","error1","$f8a7324243d2254a$var$cleanLibrary","$f8a7324243d2254a$var$onQueueBtnClick","$f8a7324243d2254a$var$_onQueueBtnClick","filmsOnPage2","filmInfo2","error2","$h6c0i","Notify","info","remove","movieLibrary","innerHTML","$jQRv7","libraryHeaderLinkBntLogic","$3jSZ7","onFirstLoadThemeLibrary","localStorage","auth","$eWSA9","firebaseRealtimeDatabase","$9I33b","sliderRevenueFilms","btnWatched","addEventListener","btnQueue","$8BN3R","scrolToTop","$puS1k","onTeamModal"],"version":3,"file":"my_library.f02f599e.js.map"}